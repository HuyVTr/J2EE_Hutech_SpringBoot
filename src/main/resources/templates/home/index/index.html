<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ỨNG DỤNG QUẢN LÝ SÁCH</title>

    <th:block th:replace="~{layout::link-css}"></th:block>
</head>

<body class="d-flex flex-column min-vh-100">
    <th:block th:replace="~{layout::header}"></th:block>

    <!-- Hero Section -->
    <div class="hero-section text-center">
        <div class="container">
            <h1 class="display-4 fw-bold mb-3">Chào mừng đến với Bookstore</h1>
            <p class="lead mb-4 opacity-75">Khám phá thế giới tri thức với hàng triệu đầu sách hấp dẫn đang chờ đón bạn.
            </p>
            <a href="#book-list" class="btn btn-light btn-lg rounded-pill px-5 fw-bold text-primary shadow-sm">Khám phá
                ngay</a>
        </div>
    </div>

    <div class="container flex-grow-1 pb-5" id="book-list">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2 class="page-title mb-0">Sách Nổi Bật</h2>
            <div class="text-muted">Hiển thị <span th:text="${books != null ? books.size() : 0}">0</span> kết quả</div>
        </div>

        <!-- Hiển thị danh sách sách -->
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4" th:if="${books != null}">
            <div class="col" th:each="book : ${books}">
                <div class="card-custom h-100 position-relative">
                    <div class="position-absolute top-0 end-0 p-2">
                        <span class="badge bg-danger shadow-sm">Hot</span>
                    </div>
                    <div
                        style="height: 240px; overflow: hidden; display: flex; align-items: center; justify-content: center; background: #f8f9fa;">
                        <img th:if="${book.imagePath}" th:src="${book.imagePath}" class="card-custom-img"
                            alt="Book Image">
                        <span th:unless="${book.imagePath}" class="text-muted"><i class="fas fa-image fa-4x"></i></span>
                    </div>

                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title text-dark" th:text="${book.title}" th:title="${book.title}">Tên sách</h5>
                        <p class="text-muted small mb-2"><i class="fas fa-pen-nib me-1"></i><span
                                th:text="${book.author}">Tác giả</span></p>

                        <div class="mt-auto">
                            <div class="d-flex justify-content-center mb-3">
                                <span class="card-price mb-0 fs-5"
                                    th:text="${book.price != null ? #numbers.formatDecimal(book.price, 0, 'POINT', 0, 'COMMA') : 0} + ' đ'">Giá</span>
                            </div>

                            <div class="d-grid gap-2">
                                <a th:href="@{/cart/add/{id}(id=${book.id})}" class="btn btn-add-cart rounded-pill">
                                    <i class="fas fa-cart-shopping me-2"></i>Chọn mua
                                </a>
                                <a th:href="@{/books/detail/{id}(id=${book.id})}"
                                    class="btn btn-outline-primary btn-sm rounded-pill">
                                    Xem chi tiết
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <th:block th:replace="~{layout::footer}"></th:block>
</body>

</html>